package com.rockdot.plugin.facebook.command {	import com.facebook.graph.Facebook;	import com.hurlant.util.Base64;	import com.rockdot.core.model.RockdotConstants;	import com.rockdot.core.mvc.RockdotEvent;	import com.rockdot.plugin.facebook.command.event.vo.VOFBInvite;	import com.rockdot.plugin.ugc.command.event.UGCEvents;	public class FBPromptInviteBrowserCommand extends AbstractFBCommand {		private var _vo : VOFBInvite;		override public function execute(event : RockdotEvent = null) : * {			super.execute(event);						//http://developers.facebook.com/docs/reference/dialogs/requests/						_vo = event.data;//VOFBInvite			_vo.app_id = getProperty("project.facebook.appid");						var reason : String = _vo.reason ? _vo.reason : RockdotConstants.VAR_REASON_VALUE_APPREQUEST_VIEW;						//assemble data payload as query string. 			//supported pairs: item_id=X OR item_container_id=Y			_vo.data = Base64.encode( _vo.data + "&reason=" + reason + "&uid=" + _fbModel.user.uid);						Facebook.ui("apprequests", _vo, _dialogCallback, "iframe");		}		private function _dialogCallback(response : Object) : void {			//response.request (request object id)			//response.to[<uid>]						if(response is Boolean){				dispatchCompleteEvent();				return;			}						response.uid = _fbModel.session.uid;			response.data = _vo.data;			_fbModel.invitedUsers = response.to; 						new RockdotEvent(UGCEvents.TRACK_INVITE, response, dispatchCompleteEvent).dispatch();					}	}}