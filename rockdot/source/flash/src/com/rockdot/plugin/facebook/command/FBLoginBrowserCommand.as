package com.rockdot.plugin.facebook.command {	import com.facebook.graph.Facebook;	import com.facebook.graph.data.FacebookSession;	import com.rockdot.core.model.RockdotConstants;	import com.rockdot.core.mvc.RockdotEvent;	public class FBLoginBrowserCommand extends AbstractFBCommand {		override public function execute(event : RockdotEvent = null) : * {			super.execute(event);  						if(RockdotConstants.LOCAL) {				log.debug("Facebook Not Supported here.");				dispatchErrorEvent("Facebook Not Supported here.");						} else {				if(_fbModel.session && _fbModel.userIsAuthenticated && event.data == "" ) {					dispatchCompleteEvent(_fbModel.session);				} else {					Facebook.login(_handleLogin, {perms: event.data });				}			}		}		private function _handleLogin(response : Object, fail : Object = null) : void {			if (response != null && response.accessToken != null) {				_fbModel.userIsAuthenticated = true;				_fbModel.session = response as FacebookSession;				dispatchCompleteEvent(response);			} else if (fail != null){				log.error("Not Connected: " + fail);				dispatchErrorEvent(fail);			}			else{				log.debug("stupid empty callback");			}		}	}}