package com.rockdot.plugin.facebook.command {	import com.rockdot.core.mvc.RockdotEvent;	import com.rockdot.plugin.facebook.model.FacebookConstants;	import org.as3commons.async.operation.IOperation;	import org.as3commons.async.operation.event.OperationEvent;	public class FBFriendsGetInfoCommand extends AbstractFBCommand {		override public function execute(event : RockdotEvent = null) : * {			super.execute(event);//			new BaseEvent(StateEvents.STATE_SET, "loading_facebook_friends").dispatch();									var friends : Array = _fbModel.friends;			var arr : Array = [];						for ( var k : String in friends ) {				arr.push(friends[ k ].id);			}						var operation : IOperation = _context.getObject(FacebookConstants.OPERATION_FB, ["fql.query", {query:"SELECT uid, name, pic_square, is_app_user FROM user WHERE uid = me() OR uid IN (" + arr.join(",") + ")"}]); //trick!			operation.addCompleteListener(_handleComplete);			operation.addErrorListener(_handleError);		}
		private function _handleComplete(event : OperationEvent) : void {//			new BaseEvent(StateEvents.STATE_SET, "loading_facebook_friends").dispatch();			_fbModel.friendsWithAdditionalInfo = event.result;			dispatchCompleteEvent(event.result);		}
	}}