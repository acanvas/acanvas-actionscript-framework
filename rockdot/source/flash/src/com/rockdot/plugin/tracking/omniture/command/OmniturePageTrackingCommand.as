package com.rockdot.plugin.tracking.omniture.command {	import com.rockdot.core.model.RockdotConstants;	import com.rockdot.core.mvc.CoreCommand;	import com.rockdot.core.mvc.RockdotEvent;	import com.rockdot.plugin.tracking.omniture.command.event.vo.OmniturePageVO;	import com.rockdot.plugin.tracking.omniture.inject.IOmnitureModelAware;	import com.rockdot.plugin.tracking.omniture.model.OmnitureModel;	/**	 * @author Nils Doehring (nilsdoehring@gmail.com)	 */	public class OmniturePageTrackingCommand extends CoreCommand  implements IOmnitureModelAware{		protected var _omnitureModel : OmnitureModel;		public function set omnitureModel(omnitureModel : OmnitureModel) : void {			_omnitureModel = omnitureModel;		}		override public function execute(event : RockdotEvent = null) : * {			super.execute(event);			var data : OmniturePageVO = event.data;			// Constants			_omnitureModel.tracker.account = "daiwsp00044";			_omnitureModel.tracker.server = "mercedes-benz.com";			// TODO: Kommt noch (jaja)			_omnitureModel.tracker.visitorNamespace = "daimlerag";			_omnitureModel.tracker.trackingServer = "daimlerag.122.2o7.net";			_omnitureModel.tracker.prop11 = "webspecial_fashionweek_2011";			_omnitureModel.tracker.prop12 = "campaign_suite";			_omnitureModel.tracker.prop13 = "mb.com";			_omnitureModel.tracker.prop14 = RockdotConstants.LANGUAGE			// omnitureModel.tracker.prop28 = "flash";			_omnitureModel.tracker.prop30 = "flash";			// Dynamic			_omnitureModel.tracker.channel = data.channel;			_omnitureModel.tracker.pageName = "mpc:" + _omnitureModel.tracker.prop13 + ":" + _omnitureModel.tracker.prop14 + ":" + _omnitureModel.tracker.prop11 + ":" + data.pageName;			_omnitureModel.tracker.hier1 = _omnitureModel.tracker.pageName;			_omnitureModel.tracker.prop1 = _omnitureModel.tracker.prop11 + ":" + data.pageName;			// omnitureModel.tracker.prop16 = (evenomnitureModel.tracker.subChannel == "" ? "" : (":" + evenomnitureModel.tracker.subChannel));			// omnitureModel.tracker.prop16 = omnitureModel.tracker.channel + (evenomnitureModel.tracker.subChannel == "" ? "" : (":" + evenomnitureModel.tracker.subChannel));			// omnitureModel.tracker.prop16 = omnitureModel.tracker.channel + ":" + evenomnitureModel.tracker.pageName;			var tmpProp16 : String = _omnitureModel.tracker.channel + ":" + data.pageName;			_omnitureModel.tracker.prop16 = tmpProp16.split(":")[0] + ":" + tmpProp16.split(":")[1];			if (_omnitureModel.tracker.channel == "intro" || _omnitureModel.tracker.channel == "home") _omnitureModel.tracker.prop16 = "";			// Link			_omnitureModel.tracker.linkType = "";			_omnitureModel.tracker.prop26 = "";			_omnitureModel.tracker.prop19 = "";			_omnitureModel.tracker.linkName = "";			_omnitureModel.tracker.prop27 = "";			// _fakeTrack();			_omnitureModel.tracker.track();		}		private function _fakeTrack() : void {			log.warn("\n[OmnitureTrackingCommand] ------------------------------");			log.warn("\nConsts");			log.warn("omnitureModel.tracker.account " + _omnitureModel.tracker.account);			log.warn("omnitureModel.tracker.server " + _omnitureModel.tracker.server);			log.warn("omnitureModel.tracker.prop11 " + _omnitureModel.tracker.prop11);			log.warn("omnitureModel.tracker.prop12 " + _omnitureModel.tracker.prop12);			log.warn("omnitureModel.tracker.prop13 " + _omnitureModel.tracker.prop13);			log.warn("omnitureModel.tracker.prop14 " + _omnitureModel.tracker.prop14);			// log.warn("omnitureModel.tracker.prop28 " + omnitureModel.tracker.prop28);			log.warn("omnitureModel.tracker.prop30 " + _omnitureModel.tracker.prop30);			// Page			log.warn("\nPage");			log.warn("omnitureModel.tracker.channel " + _omnitureModel.tracker.channel);			log.warn("omnitureModel.tracker.pageName " + _omnitureModel.tracker.pageName);			log.warn("omnitureModel.tracker.subChannel " + _omnitureModel.tracker.subChannel);			log.warn("omnitureModel.tracker.hier1 " + _omnitureModel.tracker.hier1);			log.warn("omnitureModel.tracker.prop1 " + _omnitureModel.tracker.prop1);			log.warn("omnitureModel.tracker.prop16 " + _omnitureModel.tracker.prop16);			// Link			log.warn("\nLink");			log.warn("omnitureModel.tracker.channel " + _omnitureModel.tracker.channel);			log.warn("omnitureModel.tracker.prop16 " + _omnitureModel.tracker.prop16);			log.warn("omnitureModel.tracker.prop26 " + _omnitureModel.tracker.prop26);			log.warn("omnitureModel.tracker.prop19 " + _omnitureModel.tracker.prop19);			log.warn("omnitureModel.tracker.prop27 " + _omnitureModel.tracker.prop27);			log.warn("[OmnitureTrackingCommand] ------------------------------");		}	}}